<!DOCTYPE html>
<html>
<head>
<title>Add Student</title>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script type="text/javascript">
    function errorMessage(id){
       $(id).addClass("highlight");
    }

   $(document).ready(function(){


  $("form").submit(function(){ 
  
  
    var roleNo = $("#roleNo").val();
   var  fname= $("#fname").val();
   var  lname= $("#lname").val();
   var  course= $("#course").val();
   var  yrsect= $("#yrsect").val();
   var  subject= $("#subject").val();
     

      var hasError=false;

if ($.trim(roleNo).length == 0){
    errorMessage("#roleNo");
    hasError =true;
     
}
if ($.trim(fname).length == 0){
    errorMessage("#fname");
    hasError =true;
}
if ($.trim(lname).length == 0){
    errorMessage("#lname");
    hasError =true;
}
if ($.trim(course).length == 0){
    errorMessage("#course");
    hasError =true;
}
if ($.trim(yrsect).length == 0){
    errorMessage("#yrsect");
    hasError =true;
}
if ($.trim(subject).length == 0){
    errorMessage("#subject");
    hasError =true;
}

  if(hasError){
     $("#message").show();
    return false;
  }

    var studentArray = JSON.parse(localStorage.getItem('studentApp'));

   
    var student = {roleNo:roleNo, fname:fname, lname:lname, course:course, yrsect:yrsect, subject:subject};
 
   
    if(studentArray==null){
         
        localStorage.setItem('studentApp', "["+JSON.stringify(student)+"]");
        alert(JSON.parse(localStorage.getItem('studentApp')));
    }
    else{
      
        
       studentArray.push(student);
       
       localStorage.setItem('studentApp', JSON.stringify(studentArray));
       alert("New Record Added!");
      
    }
     
  
    location.href = "appHome.html";
    
    return false;
  });

 

});

   
  </script>
  
</head>
 
<body onload="" >

<div class="container">
  <br/>
   <div class="row">
 
                <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
                        <div class="panel panel-default" style="background-color: #ffcccc">
                            <div class="panel-heading" style="background: beige;">
                        <strong style="color:green;">Register Student</strong>  
                            </div>
                            <div class="panel-body">
   
 
  <div id="message">
  <div class="alert alert-danger">
  <strong>Error!</strong> Forms cannot be empty.
</div></div>
  <form action="">
    <div class="form-group">
      <label for="roleNo">Role No:</label>
      <input type="text" class="form-control" id="roleNo"  placeholder="Role Number" name="roleNo" value="">
    </div>
    <div class="form-group">
      <label for="fname">Firstname:</label>
      <input type="text" class="form-control" id="fname" placeholder="Firstname" name="fname" value="">
    </div>
       <div class="form-group">
      <label for="lname">Lastname:</label>
      <input type="text" class="form-control" id="lname" placeholder="Lastname" name="lname" value="">
    </div>
     <div class="form-group">
      <label for="course">Course:</label>
      <input type="text" class="form-control" id="course" placeholder="Course" name="course" value="">
    </div>
     <div class="form-group">
      <label for="yrsect">Year & Section:</label>
      <input type="text" class="form-control" id="yrsect" placeholder="Year & Section" name="yrsect"  value="">
    </div>
     <div class="form-group">
      <label for="subject">Subject:</label>
      <input type="text" class="form-control" id="subject" placeholder="Subject" name="subject"  value="">
    </div>
    <button type="submit" class="btn btn-success">Save</button>
     <a href="appHome.html" class="btn btn-primary" role="button">Back</a>
  </form>
</div>
	 
</body>
</html>